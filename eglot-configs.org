#+title: Eglot configs
#+author: Roi Martin
#+date: <2025-05-16 Fri>
#+html_link_home: index.html
#+html_link_up: index.html
#+html_head: <link rel="stylesheet" type="text/css" href="css/style.css" />
#+options: num:nil

This page contains some project-wise Eglot configurations that I find
useful. I define these settings using per-directory local variables.
In other words, I specify the settings in a =.dir-locals.el= file in
the root directory of the project.

* Rust: Fix "rustc [E0463]: can't find crate for `test`" error.

When working in projects that set a custom ~build-std~ value that do
not include the ~std~ crate, rust-analyzer reports the following
error.

#+begin_example
rustc [E0463]: can't find crate for `test`
#+end_example

The configuration below fixes it.

#+begin_src emacs-lisp
  ((nil . ((eglot-workspace-configuration
  	  . (:rust-analyzer (:cargo (:allTargets :json-false)))))))
#+end_src
